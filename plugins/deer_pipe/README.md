# ğŸ¦Œç®¡ç­¾åˆ°æ’ä»¶ (deer_pipe)

ä¸€ä¸ªåŸºäº NoneBot2 çš„è¶£å‘³ç­¾åˆ°æ’ä»¶ï¼Œæ”¯æŒæ¯æ—¥ç­¾åˆ°ã€è¡¥ç­¾å’Œæ—¥å†æŸ¥çœ‹åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¦Œ æ¯æ—¥ç­¾åˆ°
- ğŸ¦Œ å¸®ä»–äººç­¾åˆ°ï¼ˆå¯é…ç½®ï¼‰
- ğŸ¦Œ è¡¥ç­¾è¿‡å»æ—¥æœŸï¼ˆå¯é…ç½®ï¼‰
- ğŸ¦Œ æŸ¥çœ‹ç­¾åˆ°æ—¥å†
- ğŸ“Š è‡ªåŠ¨æ¸…ç†è¿‡æœŸæ•°æ®

## å‘½ä»¤åˆ—è¡¨

| å‘½ä»¤                       | è¯´æ˜               |
| -------------------------- | ------------------ |
| `ğŸ¦Œ` æˆ– `é¹¿`               | ç­¾åˆ°ä¸€æ¬¡           |
| `ğŸ¦Œ @xxx` æˆ– `é¹¿ @xxx`     | å¸®ä»–äººç­¾åˆ°         |
| `è¡¥ğŸ¦Œ x` æˆ– `è¡¥é¹¿ x`       | è¡¥ç­¾æœ¬æœˆç¬¬ x æ—¥    |
| `ğŸ¦Œå†` æˆ– `é¹¿å†`           | æŸ¥çœ‹è‡ªå·±çš„ç­¾åˆ°æ—¥å† |
| `ğŸ¦Œå† @xxx` æˆ– `é¹¿å† @xxx` | æŸ¥çœ‹ä»–äººçš„ç­¾åˆ°æ—¥å† |
| `ğŸ¦Œå¸®åŠ©` æˆ– `é¹¿å¸®åŠ©`       | æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯       |

## é…ç½®é¡¹

åœ¨ `config.py` ä¸­å¯ä»¥ä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼š

```python
class DeerPipeConfig(BaseModel):
    # CD æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œ0 è¡¨ç¤ºæ— å†·å´
    cd_time: int = 0

    # æ˜¯å¦å¯ç”¨è¡¥ç­¾åŠŸèƒ½
    enable_past_deer: bool = True

    # æ˜¯å¦å¯ç”¨å¸®ä»–äººç­¾åˆ°åŠŸèƒ½
    enable_help_deer: bool = True

    # æ—¥å†å›¾ç‰‡è´¨é‡ (1-100)
    image_quality: int = 95

    # ç­¾åˆ°æˆåŠŸæ—¶çš„æç¤ºè¯­
    success_message: str = "æˆåŠŸğŸ¦Œäº†"
    help_success_message: str = "æˆåŠŸå¸®{target}ğŸ¦Œäº†"
    past_success_message: str = "æˆåŠŸè¡¥ğŸ¦Œ"

    # é”™è¯¯æç¤ºè¯­
    disabled_message: str = "ğŸ¦Œç­¾åˆ°åŠŸèƒ½å½“å‰å·²è¢«ç¦ç”¨"
    cd_message: str = "ğŸ¦ŒåŠŸèƒ½è¿˜åœ¨å†·å´ä¸­ï¼Œè¯·ç­‰å¾… {remaining} ç§’"
    invalid_date_message: str = "ä¸æ˜¯åˆæ³•çš„è¡¥ğŸ¦Œæ—¥æœŸæ"
    already_signed_message: str = "ä¸èƒ½è¡¥ğŸ¦Œå·²ç»ğŸ¦Œè¿‡çš„æ—¥å­æ"
```

## ä¾èµ–æ’ä»¶

- `nonebot_plugin_alconna` - å‘½ä»¤è§£æ
- `nonebot_plugin_apscheduler` - å®šæ—¶ä»»åŠ¡
- `nonebot_plugin_localstore` - æœ¬åœ°å­˜å‚¨
- `nonebot_plugin_userinfo` - ç”¨æˆ·ä¿¡æ¯è·å–

## æ–‡ä»¶ç»“æ„

```
deer_pipe/
â”œâ”€â”€ __init__.py      # æ’ä»¶å…¥å£
â”œâ”€â”€ config.py        # é…ç½®å®šä¹‰
â”œâ”€â”€ constants.py     # å¸¸é‡å®šä¹‰
â”œâ”€â”€ database.py      # æ•°æ®åº“æ“ä½œ
â”œâ”€â”€ image.py         # å›¾ç‰‡ç”Ÿæˆ
â”œâ”€â”€ matchers.py      # å‘½ä»¤å¤„ç†å™¨
â”œâ”€â”€ requirements.py  # ä¾èµ–åŠ è½½
â”œâ”€â”€ py.typed         # ç±»å‹æç¤ºæ ‡è®°
â”œâ”€â”€ README.md        # è¯´æ˜æ–‡æ¡£
â””â”€â”€ assets/          # é™æ€èµ„æº
    â”œâ”€â”€ check@96x100.png
    â”œâ”€â”€ deerpipe@100x82.png
    â””â”€â”€ MiSans-Regular.ttf
```

## æ›´æ–°æ—¥å¿—

### v1.0.1 (é‡æ„ç‰ˆæœ¬)

- âœ¨ æ–°å¢é…ç½®æ–‡ä»¶ï¼Œæ”¯æŒè‡ªå®šä¹‰æç¤ºè¯­å’ŒåŠŸèƒ½å¼€å…³
- âœ¨ æ–°å¢å¹´ä»½å­—æ®µï¼Œä¿®å¤è·¨å¹´æ•°æ®é—®é¢˜
- ğŸ”§ ä¿®å¤æ•°æ®åº“åˆå§‹åŒ–é€»è¾‘
- ğŸ”§ ä¼˜åŒ–å›¾ç‰‡ç”Ÿæˆï¼Œä½¿ç”¨å†…å­˜ç¼“å†²åŒºæ›¿ä»£ç£ç›˜ I/O
- ğŸ”§ ä¼˜åŒ–èµ„æºåŠ è½½ï¼Œæ”¹ä¸ºå»¶è¿ŸåŠ è½½æ¨¡å¼
- ğŸ”§ ä¼˜åŒ–æ—¥å¿—è¾“å‡ºï¼Œä½¿ç”¨ NoneBot å†…ç½®æ—¥å¿—ç³»ç»Ÿ
- ğŸ”§ ä¼˜åŒ–å¼‚å¸¸å¤„ç†ï¼Œæ­£ç¡®å¤„ç† FinishedException
- ğŸ”§ ä¼˜åŒ–ä»£ç ç»“æ„ï¼Œç§»é™¤å†—ä½™æ³¨é‡Š
- ğŸ“ æ·»åŠ å®Œæ•´çš„ä»£ç æ–‡æ¡£å’Œç±»å‹æ³¨è§£

## åŸä½œè€…

- [SamuNatsu](https://github.com/SamuNatsu)
- åŸä»“åº“: https://github.com/SamuNatsu/nonebot-plugin-deer-pipe
